<p>ç°åœ¨ä½ æ€»å…±æœ‰ <code>numCourses</code> é—¨è¯¾éœ€è¦é€‰ï¼Œè®°ä¸º&nbsp;<code>0</code>&nbsp;åˆ°&nbsp;<code>numCourses - 1</code>ã€‚ç»™ä½ ä¸€ä¸ªæ•°ç»„&nbsp;<code>prerequisites</code> ï¼Œå…¶ä¸­ <code>prerequisites[i] = [a<sub>i</sub>, b<sub>i</sub>]</code> ï¼Œè¡¨ç¤ºåœ¨é€‰ä¿®è¯¾ç¨‹ <code>a<sub>i</sub></code> å‰ <strong>å¿…é¡»</strong> å…ˆé€‰ä¿®&nbsp;<code>b<sub>i</sub></code> ã€‚</p>

<ul> 
 <li>ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ <code>0</code> ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹&nbsp;<code>1</code> ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºï¼š<code>[0,1]</code> ã€‚</li> 
</ul>

<p>è¿”å›ä½ ä¸ºäº†å­¦å®Œæ‰€æœ‰è¯¾ç¨‹æ‰€å®‰æ’çš„å­¦ä¹ é¡ºåºã€‚å¯èƒ½ä¼šæœ‰å¤šä¸ªæ­£ç¡®çš„é¡ºåºï¼Œä½ åªè¦è¿”å› <strong>ä»»æ„ä¸€ç§</strong> å°±å¯ä»¥äº†ã€‚å¦‚æœä¸å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹ï¼Œè¿”å› <strong>ä¸€ä¸ªç©ºæ•°ç»„</strong> ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>numCourses = 2, prerequisites = [[1,0]]
<strong>è¾“å‡ºï¼š</strong>[0,1]
<strong>è§£é‡Šï¼š</strong>æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚è¦å­¦ä¹ è¯¾ç¨‹ 1ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 0ã€‚å› æ­¤ï¼Œæ­£ç¡®çš„è¯¾ç¨‹é¡ºåºä¸º <span><code>[0,1] ã€‚</code></span>
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>numCourses = 4, prerequisites = [[1,0],[2,0],[3,1],[3,2]]
<strong>è¾“å‡ºï¼š</strong>[0,2,1,3]
<strong>è§£é‡Šï¼š</strong>æ€»å…±æœ‰ 4 é—¨è¯¾ç¨‹ã€‚è¦å­¦ä¹ è¯¾ç¨‹ 3ï¼Œä½ åº”è¯¥å…ˆå®Œæˆè¯¾ç¨‹ 1 å’Œè¯¾ç¨‹ 2ã€‚å¹¶ä¸”è¯¾ç¨‹ 1 å’Œè¯¾ç¨‹ 2 éƒ½åº”è¯¥æ’åœ¨è¯¾ç¨‹ 0 ä¹‹åã€‚
å› æ­¤ï¼Œä¸€ä¸ªæ­£ç¡®çš„è¯¾ç¨‹é¡ºåºæ˜¯&nbsp;<span><code>[0,1,2,3]</code></span> ã€‚å¦ä¸€ä¸ªæ­£ç¡®çš„æ’åºæ˜¯&nbsp;<span><code>[0,2,1,3]</code></span> ã€‚</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>numCourses = 1, prerequisites = []
<strong>è¾“å‡ºï¼š</strong>[0]
</pre>

<p>&nbsp;</p> 
<strong>æç¤ºï¼š</strong>

<ul> 
 <li><code>1 &lt;= numCourses &lt;= 2000</code></li> 
 <li><code>0 &lt;= prerequisites.length &lt;= numCourses * (numCourses - 1)</code></li> 
 <li><code>prerequisites[i].length == 2</code></li> 
 <li><code>0 &lt;= a<sub>i</sub>, b<sub>i</sub> &lt; numCourses</code></li> 
 <li><code>a<sub>i</sub> != b<sub>i</sub></code></li> 
 <li>æ‰€æœ‰<code>[a<sub>i</sub>, b<sub>i</sub>]</code> <strong>äº’ä¸ç›¸åŒ</strong></li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>æ·±åº¦ä¼˜å…ˆæœç´¢ | å¹¿åº¦ä¼˜å…ˆæœç´¢ | å›¾ | æ‹“æ‰‘æ’åº</details><br>

<div>ğŸ‘ 929, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/discussions/939' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://labuladong.gitee.io/article/fname.html?fname=jbæ’ä»¶ç®€ä»‹' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.online/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾](https://labuladong.online/algo/ds-class/) å’Œ [é€’å½’ç®—æ³•ä¸“é¢˜è¯¾](https://labuladong.online/algo/tree-class/) é™æ—¶é™„èµ ç½‘ç«™ä¼šå‘˜ï¼›ç®—æ³•å¯è§†åŒ–ç¼–è¾‘å™¨ä¸Šçº¿ï¼Œ[ç‚¹å‡»ä½“éªŒ](https://labuladong.online/algo-visualize/)ï¼**



<p><strong><a href="https://labuladong.online/algo/slug.html?slug=course-schedule-ii" target="_blank">â­ï¸labuladong é¢˜è§£</a></strong></p>
<details><summary><strong>labuladong æ€è·¯</strong></summary>

## åŸºæœ¬æ€è·¯

> æœ¬æ–‡æœ‰è§†é¢‘ç‰ˆï¼š[æ‹“æ‰‘æ’åºè¯¦è§£åŠåº”ç”¨](https://www.bilibili.com/video/BV1kW4y1y7Ew)

ç›´è§‚åœ°è¯´ï¼Œæ‹“æ‰‘æ’åºå°±æ˜¯è®©ä½ æŠŠä¸€å¹…æ— ç¯å›¾ã€Œæ‹‰å¹³ã€ï¼Œè€Œä¸”è¿™ä¸ªã€Œæ‹‰å¹³ã€çš„å›¾é‡Œé¢ï¼Œæ‰€æœ‰ç®­å¤´æ–¹å‘éƒ½æ˜¯ä¸€è‡´çš„ï¼š

![](https://labuladong.github.io/pictures/æ‹“æ‰‘æ’åº/top.jpg)

åœ¨è¿›è¡Œæ‹“æ‰‘æ’åºä¹‹å‰ï¼Œé¦–å…ˆè¦ç¡®ä¿å›¾ä¸­æ— ç¯ï¼Œè¿™å°±ä¾èµ– [207. è¯¾ç¨‹è¡¨](/problems/course-schedule) ä¸­è®²çš„ç¯æ£€æµ‹ç®—æ³•ã€‚

æ‹“æ‰‘æ’åºå¯ä»¥ä½¿ç”¨ DFS ç®—æ³•ï¼Œå›¾çš„ååºéå†ç»“æœè¿›è¡Œåè½¬å°±æ˜¯æ‹“æ‰‘æ’åºç»“æœã€‚

å¦å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨ BFS ç®—æ³•å€ŸåŠ©æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦è¿›è¡Œæ‹“æ‰‘æ’åºï¼Œè¿™é‡Œå°±ç”¨ BFS ç®—æ³•æ¥è§£å†³ã€‚

DFS è§£æ³•å’Œç®—æ³•æ‰§è¡Œè¿‡ç¨‹è¯¦è§£è¯·çœ‹è¯¦ç»†é¢˜è§£ã€‚

**è¯¦ç»†é¢˜è§£ï¼š[ç¯æ£€æµ‹åŠæ‹“æ‰‘æ’åºç®—æ³•](https://labuladong.github.io/article/fname.html?fname=æ‹“æ‰‘æ’åº)**

**æ ‡ç­¾ï¼š[å›¾è®ºç®—æ³•](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2122000448684457990)ï¼Œæ‹“æ‰‘æ’åºï¼Œ[æ•°æ®ç»“æ„](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=1318892385270808576)**

## è§£æ³•ä»£ç 

æç¤ºï¼šğŸŸ¢ æ ‡è®°çš„æ˜¯æˆ‘å†™çš„è§£æ³•ä»£ç ï¼ŒğŸ¤– æ ‡è®°çš„æ˜¯ chatGPT ç¿»è¯‘çš„å¤šè¯­è¨€è§£æ³•ä»£ç ã€‚å¦‚æœ‰é”™è¯¯ï¼Œå¯ä»¥ [ç‚¹è¿™é‡Œ](https://github.com/labuladong/fucking-algorithm/issues/1113) åé¦ˆå’Œä¿®æ­£ã€‚

<div class="tab-panel"><div class="tab-nav">
<button data-tab-item="cpp" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">cppğŸ¤–</button>

<button data-tab-item="python" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">pythonğŸ¤–</button>

<button data-tab-item="java" class="tab-nav-button btn active" data-tab-group="default" onclick="switchTab(this)">javağŸŸ¢</button>

<button data-tab-item="go" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">goğŸ¤–</button>

<button data-tab-item="javascript" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javascriptğŸ¤–</button>
</div><div class="tab-content">
<div data-tab-item="cpp" class="tab-item " data-tab-group="default"><div class="highlight">

```cpp
// æ³¨æ„ï¼šcpp ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution {
public:
    vector<int> findOrder(int numCourses, vector<vector<int>>& prerequisites) {
        // å»ºå›¾ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        vector<vector<int>> graph(numCourses);
        // è®¡ç®—å…¥åº¦ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        vector<int> indegree(numCourses, 0);
        for (auto& edge : prerequisites) {
            int from = edge[1], to = edge[0];
            graph[from].push_back(to);
            indegree[to]++;
        }

        // æ ¹æ®å…¥åº¦åˆå§‹åŒ–é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        queue<int> q;
        for (int i = 0; i < numCourses; i++) {
            if (indegree[i] == 0) {
                q.push(i);
            }
        }

        // è®°å½•æ‹“æ‰‘æ’åºç»“æœ
        vector<int> res;
        // å¼€å§‹æ‰§è¡Œ BFS ç®—æ³•
        while (!q.empty()) {
            int cur = q.front();
            q.pop();
            // å¼¹å‡ºèŠ‚ç‚¹çš„é¡ºåºå³ä¸ºæ‹“æ‰‘æ’åºç»“æœ
            res.push_back(cur);
            for (int next : graph[cur]) {
                indegree[next]--;
                if (indegree[next] == 0) {
                    q.push(next);
                }
            }
        }

        if (res.size() != numCourses) {
            // å­˜åœ¨ç¯ï¼Œæ‹“æ‰‘æ’åºä¸å­˜åœ¨
            return {};
        }

        return res;
    }
};
```

</div></div>

<div data-tab-item="python" class="tab-item " data-tab-group="default"><div class="highlight">

```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
# æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution:
    def findOrder(self, numCourses: int, prerequisites: List[List[int]]) -> List[int]:
        # å»ºå›¾ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        graph = self.buildGraph(numCourses, prerequisites)
        # è®¡ç®—å…¥åº¦ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        indegree = [0] * numCourses
        for edge in prerequisites:
            from_course, to_course = edge[1], edge[0]
            indegree[to_course] += 1

        # æ ¹æ®å…¥åº¦åˆå§‹åŒ–é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        q = []
        for i in range(numCourses):
            if indegree[i] == 0:
                q.append(i)

        # è®°å½•æ‹“æ‰‘æ’åºç»“æœ
        res = []
        # è®°å½•éå†èŠ‚ç‚¹çš„é¡ºåºï¼ˆç´¢å¼•ï¼‰
        count = 0
        # å¼€å§‹æ‰§è¡Œ BFS ç®—æ³•
        while q:
            cur = q.pop(0)
            # å¼¹å‡ºèŠ‚ç‚¹çš„é¡ºåºå³ä¸ºæ‹“æ‰‘æ’åºç»“æœ
            res.append(cur)
            count += 1
            for next_course in graph[cur]:
                indegree[next_course] -= 1
                if indegree[next_course] == 0:
                    q.append(next_course)

        if count != numCourses:
            # å­˜åœ¨ç¯ï¼Œæ‹“æ‰‘æ’åºä¸å­˜åœ¨
            return []

        return res

    # å»ºå›¾å‡½æ•°
    def buildGraph(self, numCourses: int, prerequisites: List[List[int]]) -> List[List[int]]:
        # å›¾ä¸­å…±æœ‰ numCourses ä¸ªèŠ‚ç‚¹
        graph = [[] for _ in range(numCourses)]
        for edge in prerequisites:
            from_course, to_course = edge[1], edge[0]
            # ä¿®å®Œè¯¾ç¨‹ from æ‰èƒ½ä¿®è¯¾ç¨‹ to
            # åœ¨å›¾ä¸­æ·»åŠ ä¸€æ¡ä» from æŒ‡å‘ to çš„æœ‰å‘è¾¹
            graph[from_course].append(to_course)
        return graph
```

</div></div>

<div data-tab-item="java" class="tab-item active" data-tab-group="default"><div class="highlight">

```java
class Solution {
    // ä¸»å‡½æ•°
    public int[] findOrder(int numCourses, int[][] prerequisites) {
        // å»ºå›¾ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        List<Integer>[] graph = buildGraph(numCourses, prerequisites);
        // è®¡ç®—å…¥åº¦ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        int[] indegree = new int[numCourses];
        for (int[] edge : prerequisites) {
            int from = edge[1], to = edge[0];
            indegree[to]++;
        }

        // æ ¹æ®å…¥åº¦åˆå§‹åŒ–é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
        Queue<Integer> q = new LinkedList<>();
        for (int i = 0; i < numCourses; i++) {
            if (indegree[i] == 0) {
                q.offer(i);/**<extend up -200>![](https://labuladong.github.io/pictures/æ‹“æ‰‘æ’åº/6.jpeg) */
            }
        }

        // è®°å½•æ‹“æ‰‘æ’åºç»“æœ
        int[] res = new int[numCourses];
        // è®°å½•éå†èŠ‚ç‚¹çš„é¡ºåºï¼ˆç´¢å¼•ï¼‰
        int count = 0;
        // å¼€å§‹æ‰§è¡Œ BFS ç®—æ³•
        while (!q.isEmpty()) {
            int cur = q.poll();
            // å¼¹å‡ºèŠ‚ç‚¹çš„é¡ºåºå³ä¸ºæ‹“æ‰‘æ’åºç»“æœ
            res[count] = cur;
            count++;
            for (int next : graph[cur]) {/**<extend up -200>![](https://labuladong.github.io/pictures/æ‹“æ‰‘æ’åº/7.jpeg) */
                indegree[next]--;
                if (indegree[next] == 0) {
                    q.offer(next);
                }
            }
        }

        if (count != numCourses) {
            // å­˜åœ¨ç¯ï¼Œæ‹“æ‰‘æ’åºä¸å­˜åœ¨
            return new int[]{};
        }
        
        return res;
    }

    // å»ºå›¾å‡½æ•°
    List<Integer>[] buildGraph(int numCourses, int[][] prerequisites) {
        // å›¾ä¸­å…±æœ‰ numCourses ä¸ªèŠ‚ç‚¹
        List<Integer>[] graph = new LinkedList[numCourses];
        for (int i = 0; i < numCourses; i++) {
            graph[i] = new LinkedList<>();
        }
        for (int[] edge : prerequisites) {
            int from = edge[1], to = edge[0];
            // ä¿®å®Œè¯¾ç¨‹ from æ‰èƒ½ä¿®è¯¾ç¨‹ to
            // åœ¨å›¾ä¸­æ·»åŠ ä¸€æ¡ä» from æŒ‡å‘ to çš„æœ‰å‘è¾¹
            graph[from].add(to);
        }
        return graph;
    }
}
```

</div></div>

<div data-tab-item="go" class="tab-item " data-tab-group="default"><div class="highlight">

```go
// æ³¨æ„ï¼šgo ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç ä¸ä¿è¯æ­£ç¡®æ€§ï¼Œä»…ä¾›å‚è€ƒã€‚å¦‚æœ‰ç–‘æƒ‘ï¼Œå¯ä»¥å‚ç…§æˆ‘å†™çš„ java ä»£ç å¯¹æ¯”æŸ¥çœ‹ã€‚

func findOrder(numCourses int, prerequisites [][]int) []int {
    // å»ºå›¾ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    graph := buildGraph(numCourses, prerequisites)
    // è®¡ç®—å…¥åº¦ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    indegree := make([]int, numCourses)
    for _, edge := range prerequisites {
        _, to := edge[1], edge[0]
        from, to := edge[1], edge[0]
        _, to := edge[1], edge[0]
        from, to := edge[1], edge[0]
        _, to := edge[1], edge[0]
        from, to := edge[1], edge[0]
        _, to := edge[1], edge[0]
        from, to := edge[1], edge[0]
        _, to := edge[1], edge[0]
        from, to := edge[1], edge[0]
        _, to := edge[1], edge[0]
        from, to := edge[1], edge[0]
        _, to := edge[1], edge[0]
        from, to := edge[1], edge[0]
        _, to := edge[1], edge[0]
        from, to := edge[1], edge[0]
        _, to := edge[1], edge[0]
        from, to := edge[1], edge[0]
        _, to := edge[1], edge[0]
        indegree[to]++
    }

    // æ ¹æ®å…¥åº¦åˆå§‹åŒ–é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    q := make([]int, 0)
    for i := 0; i < numCourses; i++ {
        if indegree[i] == 0 {
            q = append(q, i)
        }
    }

    // è®°å½•æ‹“æ‰‘æ’åºç»“æœ
    res := make([]int, numCourses)
    // è®°å½•éå†èŠ‚ç‚¹çš„é¡ºåºï¼ˆç´¢å¼•ï¼‰
    count := 0
    // å¼€å§‹æ‰§è¡Œ BFS ç®—æ³•
    for len(q) > 0 {
        cur := q[0]
        q = q[1:]
        // å¼¹å‡ºèŠ‚ç‚¹çš„é¡ºåºå³ä¸ºæ‹“æ‰‘æ’åºç»“æœ
        res[count] = cur
        count++
        for _, next := range graph[cur] {
            indegree[next]--
            if indegree[next] == 0 {
                q = append(q, next)
            }
        }
    }

    if count != numCourses {
        // å­˜åœ¨ç¯ï¼Œæ‹“æ‰‘æ’åºä¸å­˜åœ¨
        return []int{}
    }

    return res
}

// å»ºå›¾å‡½æ•°
func buildGraph(numCourses int, prerequisites [][]int) []([]int) {
    // å›¾ä¸­å…±æœ‰ numCourses ä¸ªèŠ‚ç‚¹
    graph := make([]([]int), numCourses)
    for i := 0; i < numCourses; i++ {
        graph[i] = make([]int, 0)
    }
    for _, edge := range prerequisites {
        from, to := edge[1], edge[0]
        // ä¿®å®Œè¯¾ç¨‹ from æ‰èƒ½ä¿®è¯¾ç¨‹ to
        // åœ¨å›¾ä¸­æ·»åŠ ä¸€æ¡ä» from æŒ‡å‘ to çš„æœ‰å‘è¾¹
        graph[from] = append(graph[from], to)
    }
    return graph
}
```

</div></div>

<div data-tab-item="javascript" class="tab-item " data-tab-group="default"><div class="highlight">

```javascript
// æ³¨æ„ï¼šjavascript ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

var findOrder = function(numCourses, prerequisites) {
    // å»ºå›¾ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    const graph = buildGraph(numCourses, prerequisites);
    // è®¡ç®—å…¥åº¦ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    const indegree = new Array(numCourses).fill(0);
    for (const [from, to] of prerequisites) {
        indegree[to]++;
    }

    // æ ¹æ®å…¥åº¦åˆå§‹åŒ–é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    const q = [];
    for (let i = 0; i < numCourses; i++) {
        if (indegree[i] === 0) {
            q.push(i);/**<extend up -200>![](https://labuladong.github.io/pictures/æ‹“æ‰‘æ’åº/6.jpeg) */
        }
    }

    // è®°å½•æ‹“æ‰‘æ’åºç»“æœ
    const res = new Array(numCourses);
    // è®°å½•éå†èŠ‚ç‚¹çš„é¡ºåºï¼ˆç´¢å¼•ï¼‰
    let count = 0;
    // å¼€å§‹æ‰§è¡Œ BFS ç®—æ³•
    while (q.length > 0) {
        const cur = q.shift();
        // å¼¹å‡ºèŠ‚ç‚¹çš„é¡ºåºå³ä¸ºæ‹“æ‰‘æ’åºç»“æœ
        res[count] = cur;
        count++;
        for (const next of graph[cur]) {/**<extend up -200>![](https://labuladong.github.io/pictures/æ‹“æ‰‘æ’åº/7.jpeg) */
            indegree[next]--;
            if (indegree[next] === 0) {
                q.push(next);
            }
        }
    }

    if (count !== numCourses) {
        // å­˜åœ¨ç¯ï¼Œæ‹“æ‰‘æ’åºä¸å­˜åœ¨
        return [];
    }

    return res;
}

// å»ºå›¾å‡½æ•°
function buildGraph(numCourses, prerequisites) {
    // å›¾ä¸­å…±æœ‰ numCourses ä¸ªèŠ‚ç‚¹
    const graph = new Array(numCourses).fill().map(() => []);
    for (const [from, to] of prerequisites) {
        // ä¿®å®Œè¯¾ç¨‹ from æ‰èƒ½ä¿®è¯¾ç¨‹ to
        // åœ¨å›¾ä¸­æ·»åŠ ä¸€æ¡ä» from æŒ‡å‘ to çš„æœ‰å‘è¾¹
        graph[from].push(to);
    }
    return graph;
}
```

</div></div>
</div></div>

<hr /><details open hint-container details><summary style="font-size: medium"><strong>ğŸ‘¾ğŸ‘¾ ç®—æ³•å¯è§†åŒ– ğŸ‘¾ğŸ‘¾</strong></summary><div id="data_course-schedule-ii" data="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"></div><div class="resizable aspect-ratio-container" style="height: 100%;">
<div id="iframe_course-schedule-ii"></div></div>
</details><hr /><br />

**ç±»ä¼¼é¢˜ç›®**ï¼š
  - [207. è¯¾ç¨‹è¡¨ ğŸŸ ](/problems/course-schedule)
  - [å‰‘æŒ‡ Offer II 113. è¯¾ç¨‹é¡ºåº ğŸŸ ](/problems/QA2IGt)

</details>
</div>



è¯¾ç¨‹è¡¨ ğŸŸ ](/problems/course-schedule)
  - [å‰‘æŒ‡ Offer II 113. è¯¾ç¨‹é¡ºåº ğŸŸ ](/problems/QA2IGt)

</details>
</div>

