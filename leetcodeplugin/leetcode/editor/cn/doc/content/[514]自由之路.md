<p>ç”µå­æ¸¸æˆâ€œè¾å°„4â€ä¸­ï¼Œä»»åŠ¡ <strong>â€œé€šå‘è‡ªç”±â€</strong> è¦æ±‚ç©å®¶åˆ°è¾¾åä¸º â€œ<strong>Freedom Trail Ringâ€</strong> çš„é‡‘å±è¡¨ç›˜ï¼Œå¹¶ä½¿ç”¨è¡¨ç›˜æ‹¼å†™ç‰¹å®šå…³é”®è¯æ‰èƒ½å¼€é—¨ã€‚</p>

<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²&nbsp;<code>ring</code>&nbsp;ï¼Œè¡¨ç¤ºåˆ»åœ¨å¤–ç¯ä¸Šçš„ç¼–ç ï¼›ç»™å®šå¦ä¸€ä¸ªå­—ç¬¦ä¸²&nbsp;<code>key</code>&nbsp;ï¼Œè¡¨ç¤ºéœ€è¦æ‹¼å†™çš„å…³é”®è¯ã€‚æ‚¨éœ€è¦ç®—å‡ºèƒ½å¤Ÿæ‹¼å†™å…³é”®è¯ä¸­æ‰€æœ‰å­—ç¬¦çš„<strong>æœ€å°‘</strong>æ­¥æ•°ã€‚</p>

<p>æœ€åˆï¼Œ<strong>ring&nbsp;</strong>çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ <code>12:00</code> æ–¹å‘å¯¹é½ã€‚æ‚¨éœ€è¦é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆæ—‹è½¬ <code>ring</code> ä»¥ä½¿&nbsp;<strong>key&nbsp;</strong>çš„ä¸€ä¸ªå­—ç¬¦åœ¨ <code>12:00</code> æ–¹å‘å¯¹é½ï¼Œç„¶åæŒ‰ä¸‹ä¸­å¿ƒæŒ‰é’®ï¼Œä»¥æ­¤é€ä¸ªæ‹¼å†™å®Œ&nbsp;<strong><code>key</code>&nbsp;</strong>ä¸­çš„æ‰€æœ‰å­—ç¬¦ã€‚</p>

<p>æ—‹è½¬&nbsp;<code>ring</code><strong>&nbsp;</strong>æ‹¼å‡º key å­—ç¬¦&nbsp;<code>key[i]</code><strong>&nbsp;</strong>çš„é˜¶æ®µä¸­ï¼š</p>

<ol> 
 <li>æ‚¨å¯ä»¥å°†&nbsp;<strong>ring&nbsp;</strong>é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆæ—‹è½¬&nbsp;<strong>ä¸€ä¸ªä½ç½®&nbsp;</strong>ï¼Œè®¡ä¸º1æ­¥ã€‚æ—‹è½¬çš„æœ€ç»ˆç›®çš„æ˜¯å°†å­—ç¬¦ä¸²&nbsp;<strong><code>ring</code>&nbsp;</strong>çš„ä¸€ä¸ªå­—ç¬¦ä¸ <code>12:00</code> æ–¹å‘å¯¹é½ï¼Œå¹¶ä¸”è¿™ä¸ªå­—ç¬¦å¿…é¡»ç­‰äºå­—ç¬¦&nbsp;<strong><code>key[i]</code> ã€‚</strong></li> 
 <li>å¦‚æœå­—ç¬¦&nbsp;<strong><code>key[i]</code>&nbsp;</strong>å·²ç»å¯¹é½åˆ°12:00æ–¹å‘ï¼Œæ‚¨éœ€è¦æŒ‰ä¸‹ä¸­å¿ƒæŒ‰é’®è¿›è¡Œæ‹¼å†™ï¼Œè¿™ä¹Ÿå°†ç®—ä½œ&nbsp;<strong>1 æ­¥</strong>ã€‚æŒ‰å®Œä¹‹åï¼Œæ‚¨å¯ä»¥å¼€å§‹æ‹¼å†™&nbsp;<strong>key&nbsp;</strong>çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆä¸‹ä¸€é˜¶æ®µï¼‰, ç›´è‡³å®Œæˆæ‰€æœ‰æ‹¼å†™ã€‚</li> 
</ol>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<p><img src="https://assets.leetcode.com/uploads/2018/10/22/ring.jpg" style="height: 450px; width: 450px;" /></p>

<center>
 &nbsp;
</center>

<pre>
<strong>è¾“å…¥:</strong> ring = "godding", key = "gd"
<strong>è¾“å‡º:</strong> 4
<strong>è§£é‡Š:</strong>
 å¯¹äº key çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ 'g'ï¼Œå·²ç»åœ¨æ­£ç¡®çš„ä½ç½®, æˆ‘ä»¬åªéœ€è¦1æ­¥æ¥æ‹¼å†™è¿™ä¸ªå­—ç¬¦ã€‚ 
 å¯¹äº key çš„ç¬¬äºŒä¸ªå­—ç¬¦ 'd'ï¼Œæˆ‘ä»¬éœ€è¦é€†æ—¶é’ˆæ—‹è½¬ ring "godding" 2æ­¥ä½¿å®ƒå˜æˆ "ddinggo"ã€‚
 å½“ç„¶, æˆ‘ä»¬è¿˜éœ€è¦1æ­¥è¿›è¡Œæ‹¼å†™ã€‚
 å› æ­¤æœ€ç»ˆçš„è¾“å‡ºæ˜¯ 4ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2:</strong></p>

<pre>
<strong>è¾“å…¥:</strong> ring = "godding", key = "godding"
<strong>è¾“å‡º:</strong> 13
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul> 
 <li><code>1 &lt;= ring.length, key.length &lt;= 100</code></li> 
 <li><code>ring</code>&nbsp;å’Œ&nbsp;<code>key</code>&nbsp;åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯</li> 
 <li><strong>ä¿è¯</strong> å­—ç¬¦ä¸²&nbsp;<code>key</code>&nbsp;ä¸€å®šå¯ä»¥ç”±å­—ç¬¦ä¸² &nbsp;<code>ring</code>&nbsp;æ—‹è½¬æ‹¼å‡º</li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>æ·±åº¦ä¼˜å…ˆæœç´¢ | å¹¿åº¦ä¼˜å…ˆæœç´¢ | å­—ç¬¦ä¸² | åŠ¨æ€è§„åˆ’</details><br>

<div>ğŸ‘ 319, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/discussions/939' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://labuladong.gitee.io/article/fname.html?fname=jbæ’ä»¶ç®€ä»‹' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.online/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼šç®—æ³•å¯è§†åŒ–ç¼–è¾‘å™¨ä¸Šçº¿ï¼Œ[ç‚¹å‡»ä½“éªŒ](https://labuladong.online/algo/intro/visualize/)ï¼**



<p><strong><a href="https://labuladong.online/algo/slug.html?slug=freedom-trail" target="_blank">â­ï¸labuladong é¢˜è§£</a></strong></p>
<details><summary><strong>labuladong æ€è·¯</strong></summary>

## åŸºæœ¬æ€è·¯

`dp` å‡½æ•°çš„å®šä¹‰å¦‚ä¸‹ï¼š**å½“åœ†ç›˜æŒ‡é’ˆæŒ‡å‘ `ring[i]` æ—¶ï¼Œè¾“å…¥å­—ç¬¦ä¸² `key[j..]` è‡³å°‘éœ€è¦ `dp(ring, i, key, j)` æ¬¡æ“ä½œ**ã€‚

æ ¹æ®è¿™ä¸ªå®šä¹‰ï¼Œé¢˜ç›®å…¶å®å°±æ˜¯æƒ³è®¡ç®— `dp(ring, 0, key, 0)` çš„å€¼ï¼Œbase case å°±æ˜¯ `dp(ring, i, key, len(key)) = 0`ã€‚

**è¯¦ç»†é¢˜è§£ï¼š[åŠ¨æ€è§„åˆ’å¸®æˆ‘é€šå…³äº†ã€Šè¾å°„4ã€‹](https://labuladong.github.io/article/fname.html?fname=è½¬ç›˜)**

**æ ‡ç­¾ï¼š[äºŒç»´åŠ¨æ€è§„åˆ’](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2122017695998050308)ï¼Œ[åŠ¨æ€è§„åˆ’](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=1318881141113536512)**

## è§£æ³•ä»£ç 

æç¤ºï¼šğŸŸ¢ æ ‡è®°çš„æ˜¯æˆ‘å†™çš„è§£æ³•ä»£ç ï¼ŒğŸ¤– æ ‡è®°çš„æ˜¯ chatGPT ç¿»è¯‘çš„å¤šè¯­è¨€è§£æ³•ä»£ç ã€‚å¦‚æœ‰é”™è¯¯ï¼Œå¯ä»¥ [ç‚¹è¿™é‡Œ](https://github.com/labuladong/fucking-algorithm/issues/1113) åé¦ˆå’Œä¿®æ­£ã€‚

<div class="tab-panel"><div class="tab-nav">
<button data-tab-item="cpp" class="tab-nav-button btn active" data-tab-group="default" onclick="switchTab(this)">cppğŸŸ¢</button>

<button data-tab-item="python" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">pythonğŸ¤–</button>

<button data-tab-item="java" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javağŸ¤–</button>

<button data-tab-item="go" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">goğŸ¤–</button>

<button data-tab-item="javascript" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javascriptğŸ¤–</button>
</div><div class="tab-content">
<div data-tab-item="cpp" class="tab-item active" data-tab-group="default"><div class="highlight">

```cpp
class Solution {
    public:
    // å­—ç¬¦ -> ç´¢å¼•åˆ—è¡¨
    unordered_map<char, vector<int>> charToIndex;
    // å¤‡å¿˜å½•
    vector<vector<int>> memo;

    /* ä¸»å‡½æ•° */
    int findRotateSteps(string ring, string key) {
        int m = ring.size();
        int n = key.size();
        // å¤‡å¿˜å½•å…¨éƒ¨åˆå§‹åŒ–ä¸º 0
        memo.resize(m, vector<int>(n, 0));
        // è®°å½•åœ†ç¯ä¸Šå­—ç¬¦åˆ°ç´¢å¼•çš„æ˜ å°„
        for (int i = 0; i < ring.size(); i++) {
            charToIndex[ring[i]].push_back(i);
        }
        // åœ†ç›˜æŒ‡é’ˆæœ€åˆæŒ‡å‘ 12 ç‚¹é’Ÿæ–¹å‘ï¼Œ
        // ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹è¾“å…¥ key
        return dp(ring, 0, key, 0);
    }

    // è®¡ç®—åœ†ç›˜æŒ‡é’ˆåœ¨ ring[i]ï¼Œè¾“å…¥ key[j..] çš„æœ€å°‘æ“ä½œæ•°
    int dp(string& ring, int i, string& key, int j) {
        // base case å®Œæˆè¾“å…¥
        if (j == key.size()) return 0;
        // æŸ¥æ‰¾å¤‡å¿˜å½•ï¼Œé¿å…é‡å å­é—®é¢˜
        if (memo[i][j] != 0) return memo[i][j];

        int n = ring.size();
        // åšé€‰æ‹©
        int res = INT_MAX;
        // ring ä¸Šå¯èƒ½æœ‰å¤šä¸ªå­—ç¬¦ key[j]
        for (int k : charToIndex[key[j]]) {
            // æ‹¨åŠ¨æŒ‡é’ˆçš„æ¬¡æ•°
            int delta = abs(k - i);
            // é€‰æ‹©é¡ºæ—¶é’ˆè¿˜æ˜¯é€†æ—¶é’ˆ
            delta = min(delta, n - delta);
            // å°†æŒ‡é’ˆæ‹¨åˆ° ring[k]ï¼Œç»§ç»­è¾“å…¥ key[j+1..]
            int subProblem = dp(ring, k, key, j + 1);
            // é€‰æ‹©ã€Œæ•´ä½“ã€æ“ä½œæ¬¡æ•°æœ€å°‘çš„
            // åŠ ä¸€æ˜¯å› ä¸ºæŒ‰åŠ¨æŒ‰é’®ä¹Ÿæ˜¯ä¸€æ¬¡æ“ä½œ
            res = min(res, 1 + delta + subProblem);
        }
        // å°†ç»“æœå­˜å…¥å¤‡å¿˜å½•
        memo[i][j] = res;
        return res;
    }
};
```

</div></div>

<div data-tab-item="python" class="tab-item " data-tab-group="default"><div class="highlight">

```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ cpp ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
# æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution:
    def __init__(self):
        # å­—ç¬¦ -> ç´¢å¼•åˆ—è¡¨
        self.charToIndex = {}
        # å¤‡å¿˜å½•
        self.memo = []

    # ä¸»å‡½æ•°
    def findRotateSteps(self, ring: str, key: str) -> int:
        m = len(ring)
        n = len(key)
        # å¤‡å¿˜å½•å…¨éƒ¨åˆå§‹åŒ–ä¸º 0
        self.memo = [[0] * n for _ in range(m)]
        # è®°å½•åœ†ç¯ä¸Šå­—ç¬¦åˆ°ç´¢å¼•çš„æ˜ å°„
        for i in range(m):
            char = ring[i]
            if char in self.charToIndex:
                self.charToIndex[char].append(i)
            else:
                self.charToIndex[char] = [i]
        # åœ†ç›˜æŒ‡é’ˆæœ€åˆæŒ‡å‘ 12 ç‚¹é’Ÿæ–¹å‘ï¼Œ
        # ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹è¾“å…¥ key
        return self.dp(ring, 0, key, 0)

    # è®¡ç®—åœ†ç›˜æŒ‡é’ˆåœ¨ ring[i]ï¼Œè¾“å…¥ key[j..] çš„æœ€å°‘æ“ä½œæ•°
    def dp(self, ring: str, i: int, key: str, j: int) -> int:
        # base case å®Œæˆè¾“å…¥
        if j == len(key):
            return 0
        # æŸ¥æ‰¾å¤‡å¿˜å½•ï¼Œé¿å…é‡å å­é—®é¢˜
        if self.memo[i][j] != 0:
            return self.memo[i][j]

        n = len(ring)
        # åšé€‰æ‹©
        res = float('inf')
        # ring ä¸Šå¯èƒ½æœ‰å¤šä¸ªå­—ç¬¦ key[j]
        for k in self.charToIndex[key[j]]:
            # æ‹¨åŠ¨æŒ‡é’ˆçš„æ¬¡æ•°
            delta = abs(k - i)
            # é€‰æ‹©é¡ºæ—¶é’ˆè¿˜æ˜¯é€†æ—¶é’ˆ
            delta = min(delta, n - delta)
            # å°†æŒ‡é’ˆæ‹¨åˆ° ring[k]ï¼Œç»§ç»­è¾“å…¥ key[j+1..]
            subProblem = self.dp(ring, k, key, j + 1)
            # é€‰æ‹©ã€Œæ•´ä½“ã€æ“ä½œæ¬¡æ•°æœ€å°‘çš„
            # åŠ ä¸€æ˜¯å› ä¸ºæŒ‰åŠ¨æŒ‰é’®ä¹Ÿæ˜¯ä¸€æ¬¡æ“ä½œ
            res = min(res, 1 + delta + subProblem)

        # å°†ç»“æœå­˜å…¥å¤‡å¿˜å½•
        self.memo[i][j] = res
        return res
```

</div></div>

<div data-tab-item="java" class="tab-item " data-tab-group="default"><div class="highlight">

```java
// æ³¨æ„ï¼šjava ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ cpp ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution {
    // å­—ç¬¦ -> ç´¢å¼•åˆ—è¡¨
    Map<Character, List<Integer>> charToIndex = new HashMap<>();
    // å¤‡å¿˜å½•
    int[][] memo;

    /* ä¸»å‡½æ•° */
    public int findRotateSteps(String ring, String key) {
        int m = ring.length();
        int n = key.length();
        // å¤‡å¿˜å½•å…¨éƒ¨åˆå§‹åŒ–ä¸º 0
        memo = new int[m][n];
        for (int[] row : memo) {
            Arrays.fill(row, 0);
        }
        // è®°å½•åœ†ç¯ä¸Šå­—ç¬¦åˆ°ç´¢å¼•çš„æ˜ å°„
        for (int i = 0; i < ring.length(); i++) {
            char c = ring.charAt(i);
            List<Integer> list = charToIndex.getOrDefault(c, new ArrayList<>());
            list.add(i);
            charToIndex.put(c, list);
        }
        // åœ†ç›˜æŒ‡é’ˆæœ€åˆæŒ‡å‘ 12 ç‚¹é’Ÿæ–¹å‘ï¼Œ
        // ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹è¾“å…¥ key
        return dp(ring, 0, key, 0);
    }

    // è®¡ç®—åœ†ç›˜æŒ‡é’ˆåœ¨ ring[i]ï¼Œè¾“å…¥ key[j..] çš„æœ€å°‘æ“ä½œæ•°
    private int dp(String ring, int i, String key, int j) {
        // base case å®Œæˆè¾“å…¥
        if (j == key.length()) return 0;
        // æŸ¥æ‰¾å¤‡å¿˜å½•ï¼Œé¿å…é‡å å­é—®é¢˜
        if (memo[i][j] != 0) return memo[i][j];

        int n = ring.length();
        // åšé€‰æ‹©
        int res = Integer.MAX_VALUE;
        char c = key.charAt(j);
        // ring ä¸Šå¯èƒ½æœ‰å¤šä¸ªå­—ç¬¦ key[j]
        for (int k : charToIndex.getOrDefault(c, new ArrayList<>())) {
            // æ‹¨åŠ¨æŒ‡é’ˆçš„æ¬¡æ•°
            int delta = Math.abs(k - i);
            // é€‰æ‹©é¡ºæ—¶é’ˆè¿˜æ˜¯é€†æ—¶é’ˆ
            delta = Math.min(delta, n - delta);
            // å°†æŒ‡é’ˆæ‹¨åˆ° ring[k]ï¼Œç»§ç»­è¾“å…¥ key[j+1..]
            int subProblem = dp(ring, k, key, j + 1);
            // é€‰æ‹©ã€Œæ•´ä½“ã€æ“ä½œæ¬¡æ•°æœ€å°‘çš„
            // åŠ ä¸€æ˜¯å› ä¸ºæŒ‰åŠ¨æŒ‰é’®ä¹Ÿæ˜¯ä¸€æ¬¡æ“ä½œ
            res = Math.min(res, 1 + delta + subProblem);
        }
        // å°†ç»“æœå­˜å…¥å¤‡å¿˜å½•
        memo[i][j] = res;
        return res;
    }
}
```

</div></div>

<div data-tab-item="go" class="tab-item " data-tab-group="default"><div class="highlight">

```go
// æ³¨æ„ï¼šgo ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ cpp ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

// è®¡ç®—ä¸¤ä¸ªæ•°ç›¸å‡çš„ç»å¯¹å€¼
func abs(a, b int) int {
    if a > b {
        return b - a + 2*b
    } else {
        return a - b + 2*b
    }
}

// è¿”å›ä¸¤ä¸ªæ•°çš„æœ€å°å€¼
func min(a, b int) int {
    if a < b {
        return a
    } else {
        return b
    }
}

/* ä¸»å‡½æ•° */
func findRotateSteps(ring string, key string) int {
    m := len(ring)
    n := len(key)
    // å¤‡å¿˜å½•å…¨éƒ¨åˆå§‹åŒ–ä¸º 0
    memo := make([][]int, m)
    for i := range memo {
        memo[i] = make([]int, n)
    }
    // è®°å½•åœ†ç¯ä¸Šå­—ç¬¦åˆ°ç´¢å¼•çš„æ˜ å°„
    charToIndex := make(map[byte][]int)
    for i := range ring {
        charToIndex[ring[i]] = append(charToIndex[ring[i]], i)
    }
    // åœ†ç›˜æŒ‡é’ˆæœ€åˆæŒ‡å‘ 12 ç‚¹é’Ÿæ–¹å‘ï¼Œ
    // ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹è¾“å…¥ key
    return dp(ring, 0, key, 0, charToIndex, memo)
}

// è®¡ç®—åœ†ç›˜æŒ‡é’ˆåœ¨ ring[i]ï¼Œè¾“å…¥ key[j..] çš„æœ€å°‘æ“ä½œæ•°
func dp(ring string, i int, key string, j int, charToIndex map[byte][]int, memo [][]int) int {
    // base case å®Œæˆè¾“å…¥
    if j == len(key) {
        return 0
    }
    // æŸ¥æ‰¾å¤‡å¿˜å½•ï¼Œé¿å…é‡å å­é—®é¢˜
    if memo[i][j] != 0 {
        return memo[i][j]
    }

    n := len(ring)
    // åšé€‰æ‹©
    res := math.MaxInt32
    // ring ä¸Šå¯èƒ½æœ‰å¤šä¸ªå­—ç¬¦ key[j]
    for _, k := range charToIndex[key[j]] {
        // æ‹¨åŠ¨æŒ‡é’ˆçš„æ¬¡æ•°
        delta := abs(k-i, n)
        // é€‰æ‹©é¡ºæ—¶é’ˆè¿˜æ˜¯é€†æ—¶é’ˆ
        delta = min(delta, n-delta)
        // å°†æŒ‡é’ˆæ‹¨åˆ° ring[k]ï¼Œç»§ç»­è¾“å…¥ key[j+1..]
        subProblem := dp(ring, k, key, j+1, charToIndex, memo)
        // é€‰æ‹©ã€Œæ•´ä½“ã€æ“ä½œæ¬¡æ•°æœ€å°‘çš„
        // åŠ ä¸€æ˜¯å› ä¸ºæŒ‰åŠ¨æŒ‰é’®ä¹Ÿæ˜¯ä¸€æ¬¡æ“ä½œ
        res = min(res, 1+delta+subProblem)
    }
    // å°†ç»“æœå­˜å…¥å¤‡å¿˜å½•
    memo[i][j] = res
    return res
}
```

</div></div>

<div data-tab-item="javascript" class="tab-item " data-tab-group="default"><div class="highlight">

```javascript
// æ³¨æ„ï¼šjavascript ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ cpp ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

var findRotateSteps = function(ring, key) {
    // å­—ç¬¦ -> ç´¢å¼•åˆ—è¡¨
    const charToIndex = {};
    // å¤‡å¿˜å½•
    const memo = [];

    /* è®°å½•åœ†ç¯ä¸Šå­—ç¬¦åˆ°ç´¢å¼•çš„æ˜ å°„ */
    for (let i = 0; i < ring.length; i++) {
        const char = ring.charAt(i);
        if (charToIndex[char] === undefined) {
            charToIndex[char] = [];
        }
        charToIndex[char].push(i);
    }

    /* è®¡ç®—åœ†ç›˜æŒ‡é’ˆåœ¨ ring[i]ï¼Œè¾“å…¥ key[j..] çš„æœ€å°‘æ“ä½œæ•° */
    function dp(i, j) {
        // base case å®Œæˆè¾“å…¥
        if (j === key.length) {
            return 0;
        }
        // æŸ¥æ‰¾å¤‡å¿˜å½•ï¼Œé¿å…é‡å å­é—®é¢˜
        if (memo[i] !== undefined && memo[i][j] !== undefined) {
            return memo[i][j];
        }

        const n = ring.length;
        // åšé€‰æ‹©
        let res = Infinity;
        // ring ä¸Šå¯èƒ½æœ‰å¤šä¸ªå­—ç¬¦ key[j]
        for (let k of charToIndex[key.charAt(j)]) {
            // æ‹¨åŠ¨æŒ‡é’ˆçš„æ¬¡æ•°
            let delta = Math.abs(k - i);
            // é€‰æ‹©é¡ºæ—¶é’ˆè¿˜æ˜¯é€†æ—¶é’ˆ
            delta = Math.min(delta, n - delta);
            // å°†æŒ‡é’ˆæ‹¨åˆ° ring[k]ï¼Œç»§ç»­è¾“å…¥ key[j+1..]
            const subProblem = dp(k, j + 1);
            // é€‰æ‹©ã€Œæ•´ä½“ã€æ“ä½œæ¬¡æ•°æœ€å°‘çš„
            // åŠ ä¸€æ˜¯å› ä¸ºæŒ‰åŠ¨æŒ‰é’®ä¹Ÿæ˜¯ä¸€æ¬¡æ“ä½œ
            res = Math.min(res, 1 + delta + subProblem);
        }
        // å°†ç»“æœå­˜å…¥å¤‡å¿˜å½•
        if (memo[i] === undefined) {
            memo[i] = [];
        }
        memo[i][j] = res;
        return res;
    }

    return dp(0, 0);
};
```

</div></div>
</div></div>

<hr /><details open hint-container details><summary style="font-size: medium"><strong>ğŸŒŸğŸŒŸ ç®—æ³•å¯è§†åŒ– ğŸŒŸğŸŒŸ</strong></summary><div id="data_freedom-trail" data="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"></div><div class="resizable aspect-ratio-container" style="height: 100%;">
<div id="iframe_freedom-trail"></div></div>
</details><hr /><br />

</details>
</div>

